\chapter{Preliminaries.}
We start this chapter reminding the basic definitions and theorems in topology and measure theory, since they are needed to have a suitable framework to discuss the optimal transport problem and its applications. It is meant to work as a really brief summary of the definitions, motivations and results needed to give the formalism of the next chapters, adapted to the notation used in this project. For a structured construction of the theory or details of the proofs for the results here discussed we give the respective references.


 
%\section{Definitions and important theorems to remember.}

%\begin{definition}[Projection of a Cartesian Product.]
%	Let $X$ and $Y$ be  two arbitrary sets. Let  $\proj_x: X\times Y \rightarrow X$ be a function defined by,
%	\begin{equation*}
%	\proj_x(x,y)= x.
%	\end{equation*}
%	Equivalently, let $\proj_y: X\times Y \rightarrow Y$ be the function defined by,
%	\begin{equation*}
%	\proj_y(x,y)=y
%	\end{equation*}
%	These maps $\proj_x$ and $\proj_y$ are called the projections of $X\times Y$ onto $X$ and $Y$ respectively.	
%\end{definition}
\section{Topology.}
We start with the definition of topology that is needed to introduce a notion of continuity and convergence. We recall some important notions used during the development of the present text, for further details about this topic we refer \cite{munkres2000topology}. 
\\

A set $X$ endowed with a topology $\mathcal{T}$ is a \textbf{topological space}. The elements of a topology are called \textbf{open} sets. Any set of $X$ that is a complement of a set in $\mathcal T$ is called a \textbf{closed} set. We call a neighborhood of $x\in X$ to any set in $\mathcal{T}$ that contains $x$.

The \textbf{interior} of a set $A$, is defined as the biggest open set contained in $A$. Similarly, the \textbf{closure} of a set $A$, is defined as the smallest closed set containing $A$. We use indistinctly the notation $\inter(A)$ and $A^{\circ}$ for the interior of a set $A$. In the same way, for the closure we use the notation $\closu(A)$ or $\bar{A}$. We remark that a set is open if and only if $A=A^{\circ}$, and a set is closed if and only if $A=\bar{A}$.
\\

 If $A$ is a subset of a topological space $X$, a point $x\in X$ is called a \textbf{limit point} of $A$ if every neighborhood of $x$ intersects $A$ in some point different than $x$ itself. A subset of topological space is closed if and only if contains all its limit points.    
\\
A subset $D$ of a topological space $X$ is \textbf{dense} in $X$ if for any point $x$ in $X$, any neighborhood of $x$ containing at least one point from $D$, different of $x$. Equivalently, $D$ is dense in $X$ if and only if it is identically to its closure in $X$, i.e. $D=\closu (D)$. A topological space is called \textbf{separable} if it contains a countable, dense subset.
\\



Let $X$ be a topological space  endowed with a topology $\mathcal{T}$. If $Z$ is a subset of $X$ the collection $\mathcal{T}_Z=\braces{Z\cap U: \ U \in \mathcal{T}}$ is called the \textbf{subspace topology} of $Z$ and $Z$ is called a \textbf{subspace} of $X$. That is the topology of $Z$ is composed by all the intersections of the open sets of $X$ with $Z$. 


\begin{definition}[Continuity]
Let $X$ and $Y$ be topological spaces. A function $f:X\rightarrow Y$ is said to be continuous if for each open subset $V$ of $Y$, the set $f^{-1}(V)$ is an open subset of $X$.\label{def: Continuity} 
\end{definition}
Continuity not only depends upon the function $f$, but also in the topologies specified for the range and the domain of $f$. We say that $f$ is an \textbf{homeomorphism} if $f$ is bijective, continuous and $f^{-1}$ is also continuous. The support $\supp(f)$ of a continuous real valued function $f$ is the closure of the set $\braces{x\in X:\ f(x)\neq 0}$.\\

A sequence $\parentheses{x_n}_{n\in \Naturals}$ in $X$ is a countable indexed set of elements in $X$. We say that a sequence converges to the point $x$ of $X$ if for each neighborhood $U$ of $x$ there is a positive integer $M\in\Naturals$, such that $x_n\in U$, for all $n\geq M$. We use the notation $x_n\rightarrow x$, or $\lim_{n\rightarrow \infty} x_n = x$, to denote convergence of a sequence to a point $x$. \\

The notion of sequences is useful for tracking compactness in topological spaces satisfying the \emph{first axiom of countability for topological spaces}\footnote{Topological spaces with a countable topological basis at each of its points, i.e. for any $x\in X$ there is a countable collection $\mathcal{B}$ of neighborhoods of $x$, such that each neighborhood contains at least one of the elements of $\mathcal{B}$}. Although for arbitrary topological spaces we can use the notion of nets. A \textbf{net} is a generalization of sequences for arbitrary topological spaces. A net in $X$ is a function $f$ from a directed set\footnote{Any set with a partial order $J$ relation} $\mathcal{J}$ into $X$. If $\alpha \in \mathcal{J}$, we usually denote $f(\alpha)=x_\alpha$. We use the notation $(x_\alpha)_{\alpha \in \mathcal{J}}$ to refer a net. Every sequence is a net but the converse does not hold.

Topologies in which one element is not a closed set, or in which a sequence can converge to more than one point, are not really interesting for practical problems. If such things are allowed the theorems that one can prove are limited. To overcome this situation the mathematician Felix Hausdorff suggested topological spaces where for each pair of points we can find disjoint neighborhoods. We call a \textbf{Hausdorff space} a topological space $X$ endowed with a topology $\mathcal{T}$, such that for each pair $x_1$, $x_2$ of distinct points in $X$, there exists a neighborhood $U_1$ of $x_1$, and there exists a neighborhood $U_2$ of $x_2$, such that $U_1$ and $U_2$ are disjoint.  In Hausdorff spaces every convergent net converges to at most one point. 
\\

A distance $d$ over $X$ is a nonnegative real valued function $d:X\times X\rightarrow \Real$ satisfying, symmetry, triangle inequality and the property that the distance between any element to itself is zero. That is,
\begin{enumerate}
	\item $d(x, y)=d(y,x)$, for all $x,y \in X$.
	\item Symmetry: $d(x,y)=0 \iff x=y$, for all $x,y \in X$. 
	\item Triangle inequality: $d(x,z)\leq d(x,y)+d(y,z)$ for all $x,y,z\in X$.
\end{enumerate}
Given a set $X$ with distance $d$, and a real number $\epsilon >0$, we call open ball the set,
\begin{equation*}
	\ball{x}{\epsilon}=\braces{y| d(x,y)<\epsilon}
\end{equation*} 

The collection of all $\epsilon-$ open balls $\ball{x}{\epsilon}$, for each $x\in X$ and $\epsilon>0$, is a basis for the topology on $X$, called the metric topology. A set $U$ is open in a metric topology induced by $d$ if and only if for each $y\in U$, there is $\delta>0$ such that $\ball{y}{\delta}\subset U$.\\

A topological space $X$ is said to be \textbf{metrizable} if there exists a metric $d$ on the set $X$ that induces the topology of $X$. A \textbf{metric space} is a metrizable space $X$ together with a specific metric $d$. Every metrizable space satisfies the first axiom of countability.\\

Given a metric space $X$ the diameter $\diam$ of set $A\subset X$ is given by,
\begin{equation*}
	\diam(A)=\sup\braces{d(x,y): \quad x, y \in A}.
\end{equation*} 
We say that $A$ is a bounded subset of a metric space $X$ if there is $M\in \Real_+$ such that $\diam(A)<M$.

\begin{definition}[Continuity in metric spaces]
	The definition \ref{def: Continuity} for metric spaces is equivalent to say: A function $f:X\rightarrow Y$ defined from a metrizable space $(X, d_X)$ to a metrizable space $(Y, d_Y)$ is continuous if $\forall \epsilon\in\Real$ and $\epsilon>0$ there is $\delta \in \Real$ and $\delta>0$ such that,
	\begin{equation*}
		d_X(x, y)<\delta \implies d_Y(f(x),f(y))<\epsilon
	\end{equation*}
\end{definition}
If $X$ is topological space and $A\subset X$. If there is a sequence of points of $A$ converging to $x$, then $x\in\closu A$. The converse holds if $X$ is metrizable. \\

Let $f: X\rightarrow Y$ be continuous function between to topological spaces. If $(x_n)_{n\in \Naturals}$ is a sequence converging to $x$, then the sequence $f(x_n)$ converges to $f(x)$. If $X$ satisfies the first axiom of countability we can invert the implication. Therefore for a metrizable space $X$ the converse holds. 



A \textbf{ cover} is a family $\mathcal B$ of subsets of $X$ such that the union of all its sets is equal to $X$. If all the sets in the family $\mathcal A$ are open we call it an open cover. 

In topology we can find different notions of compactness. We start with the usual notion, a topological space $X$ is called \textbf{compact} if every open covering contains a finite subcover also covering $X$. A metrizable space $X$ is compact if and only if is sequentially compact. Every compact metric space is separable. The importance of the metrizability consists of the fact that all the topological properties can be characterized by sequences. \\


Every closed subspace of a compact space is compact. Every compact subspace of a Hausdorff space is closed. The image of a compact space under a continuous map is compact. The product of \emph{finitely many} compact spaces is compact. We call \textbf{pre-compact} to any set whose closure is compact. \\

A metric space $X$ is said to be \textbf{totally bounded} if for every $\epsilon>0$, there is a finite covering of $X$. A metric space $X$ is said to be \textbf{complete} if any Cauchy sequence\footnote{Given a metric space $X$, a sequence $\parentheses{x_n}_{n\in\Naturals}$ is said to be Cauchy, if for every real $\epsilon>0$ there is $N$ such that for all $m,n>N$ pair $d(x_m, x_n)<\epsilon$} has a limit in $X$. Every compact metric space is complete. 
A metric space is compact if and only if it is complete and totally bounded.

We call \textbf{Polish space} to any topological space that is separable and completely metrizable. There is a subtle difference between complete metric space and completely metrizable space, that is exists a distance $d$ that such that the space.  And the difference lies on the words ``\textit{there exists at least a metric...}" in the completely metrizable definition, and ``\textit{given a metric}''. Complete metrizable is a topological property while completeness is a property of the chosen metric.\\

Each closed subspace, and each open subspace, of a Polish space is Polish. The product of a finite or infinite sequence of Polish spaces is
Polish.

\begin{theorem}[Extreme value theorem]
	Let $f:X\rightarrow \Real$ be a continuous real valued function. If $X$ is compact, then there exist points $u$ and $v$ in $X$ such that $f(u)\leq f(x)\leq f(v)$ for all $x\in X$.
\end{theorem}
 We use the notation $C(X)$ to refer the set of real valued continuous functions $f:X\rightarrow \Real$ defined on $X$. We denote by $C_b(X)$ the set of bounded continuous functions, that is $f\in C_b(X) \iff f\in C(x)\ \mand\ \sup_{x\in X} \abs{f(x)}<\infty$. We denote by $C_c(X)$ the set of continuous functions with compact support. \\
  
  
 \begin{definition}[Uniform Continuity]
	A function $f$ from the metric space $(X, d_X)$ to the metric space $(Y, d_Y)$ is said to be \textbf{uniformly continuous} if for every $\epsilon>0$, and for every pair of points $x_0$, $x_1$ of $X$ there is a common $\delta>0$ such that,
	\begin{equation}
		d_X(x_0, x_1)<\delta \implies d_Y(f(x_0), f(x_1))<\epsilon
	\end{equation}  
\end{definition}
If a function $f$ is continuous on a compact set, then $f$ is uniformly continuous.\\

%\begin{definition}
%	Let $(X, d_X)$ and $(Y, d_Y)$ be two metric spaces. The approximation speed is given byThe modulus of a continuity\footnote{Also know as first modulus of continuity $\omega_1$, since this definition can be extended for smoother functions. In \cite{Steffens2006HistoryofApprox} is mentioned how the modulus of continuity plays an important role as a measure of the size of the error with respect to an approximation scheme. Lebesgue was the first one to use the name $\omega$ for real valued functions.} $\omega$ of a continuous function $f:X\times\rightarrow Y$ is given by,
%	\begin{equation*}
%		\omega(\delta, f)=\sup_{d_x(x,y)<\delta} d_Y(f(x), f(y))
%	\end{equation*}
%
%\end{definition}
%%%%%%%%%%%%%
%If $f$ is uniformly continuous there exists a nonnegative increasing function $\omega$ such that $\lim_{\delta\rightarrow 0} \omega(\delta)\rightarrow 0$ and $\omega(0)=0$ and acts as the modulus of continuity of $f$.
A space $X$ is said to be \textbf{locally compact} at $x$ if there is some compact subspace $K$ of $X$ that contains a neighborhood of $x$.If $X$ is locally compact at each $x$ we call it just locally compact. Equivalently a topological space is locally compact if each of its points has an open neighborhood whose closure is compact. Any compact space is locally compact.

On locally compact spaces $X$. We denote by $C_0(X)$ the set of continuous functions vanishing at infinity, i.e. $f\in C_0(X) \iff f \in C(X)\ \mand \ \forall \epsilon >0,\ \exists K\subset X$ such that $K$ is compact and $\abs{f(x)}<\epsilon$, for all $x\in X\backslash K$. 

We see that for any locally compact topological space $C_0(X)\subset C_b(X)\subset C(X)$. If $X$ is compact we have $C_0(X)=C_b(X)=C(X)$.


A subset of functions $F\subset C(X)$ is said to be \textbf{equicontinuous at} $x_0$ if given $\epsilon>0$, there is a neighborhood $U$ of $x_0$ such that for all $x\in U$ and all $f\in F$, $d(f(x), f(x_0))<\epsilon$. If $F$ is \textbf{equicontinuous} at all $x\in X$ we just call it equicontinuous. The subset $F\subset C(X)$ is \textbf{equibounded} if there is a common constant $M$ such that, $\abs{f(x)}\leq M$ for all $f\in F$ and all $x\in X$.
\begin{theorem}[Arzel\`a-Ascoli]
	Let $X$ be a compact metric space;  The subset $K\subset C(X)$ is pre-compact in the uniform topology (the topology induced by the distance $d(f,g)=\sup_{\alpha\in X} \abs{f(\alpha)-g(\alpha)}$), if and only if it is equicontinuous and equibounded.
\end{theorem}

\section{Functional Analysis}
Some notions in functional analysis are needed when we are trying to optimize a functional. 


The \textbf{epigraph} of a real valued function $f:X\rightarrow \Realex$ is the set $\epi(f)=\braces{(x,t)\in X\times t:\ f(t)\leq t}$. In similar way, we define the \textbf{graph} $\graph(f)$ of a function $f$ as the set defined by the expression $\graph(f)=\braces{(x,y)\in X\times Y:\ f(x)=y}$. \\
Given a topological space $X$ we say that \textbf{limit inferior} of real valued function $f:X\rightarrow \Realex$ as $x$ tends to $x_0$ is defined as
\begin{equation*}
	\liminf_{x\rightarrow x_0} f(x):=\sup_{\substack{x_0\in A\\A=\inter A}} \parentheses{\inf_{x\in A\backslash \braces{x_0}} f(x)}
\end{equation*}
\begin{definition}[Lower Semicontinuous]
	\label{def: l.s.c.}
	Let $X$ be a topological space and let $f:X\rightarrow \Realex$.
	\begin{itemize}
		\item The function $f$ is lower semicontinuous (abbreviated as l.s.c.) if the set $\braces{x\in X:\ f(x)<t}$ is closed for every $t\in \Real$.
		\item The function $f$ is sequentially lower semicontinuous if the set $\braces{x \in X:\ f(x)\leq t}$ is \emph{sequentially closed} for every $t\in \Real$.
		\item The function $f$ is upper semicontinuous if $-f$ is lower semicontinuous.   
	\end{itemize}
\end{definition}	 

The statement $f$ is lower semicontinuous is equivalent to the epigraph of $f$ is closed. Simultaneously, $f$ is lower semicontinuous if and only if $\forall x_0 \in X$, $f(x_0)\leq \liminf_{x\rightarrow x_0}$. In similar way, a function is sequentially lower semicontinuous if and only if its epigraph is sequentially closed. Moreover, $f$ is sequentially lower semicontinuous if and only if for each sequence $\parentheses{x_n}_{n\in\Naturals}$  converging to $x_0$, $f(x_0)\leq \liminf_n f(x_n)$.\\

Functions that are lower semicontinuous can be written as the pointwise supremum of a family of lower semicontinuous functions. 
\begin{theorem}Let $X$ be a topological space and let $(f_\alpha)_{\alpha\in \mathcal{J}}$ be a net (finite, countable or uncountable) of lower semicontinuous (or sequentially lower semicontinuous) functions defined on $X$ onto the extended real line, $f_\alpha: X\rightarrow \Realex$. Then the function $f$ defined by,
	\begin{equation*}
		f=\sup_{\alpha\in\mathcal{J}}f_\alpha
	\end{equation*}
is lower semicontinuous (sequentially lower semicontinuous).
In addition if the family is finite, the function $f_{-}$ defined by,
\begin{equation*}
	f_{-}= \min_{\alpha\in\mathcal{J}} f_\alpha
\end{equation*}
is also lower semicontinuous (sequentially lower semicontinuous).
\end{theorem}

\begin{theorem}[Weierstrass]
	Let $X$ be a topological space, let $K\subset X$ be compact (respectively sequentially compact), and let $f:X\rightarrow \Realex$ be a lower semicontinuous (respectively sequentially lower semicontinuous) function.
	Then there exists $x_0\in K$ such that,
	\begin{equation*}
		f(x_0)=\min_{x\in K} f(x)
	\end{equation*}
\end{theorem}
We pay special attention to direct method of calculus of variations and Weierstrass criterion for minimizers.


A \textbf{linear space} $V$ over the scalar field $\Real$ is a set of points, or vectors, on which are defined operations of vector addition and scalar multiplication with the following properties:
\begin{enumerate}
	\item The set $V$ is a commutative group with respect to the operation $+$ of vector addition, that is for all $v,w,u\in X$, we have that $v+w=w+v$ and $v+(w+u)=(v+w)+u$, there is a zero vector $0$ such that $v+0=v$ for all $v\in V$, and for each $v\in V$ there is a unique vector $-v$ such that $v+(-v)=0$. \\
	\item 	For all $v,w\in V$ and $\alpha, \beta \in \Real$, we have that $1v=v$, $\alpha(v+w)=\alpha v+\alpha w$, $\alpha (\beta x)=\beta(\alpha v)=(\alpha\beta) v$ and $(\alpha+\beta)v=\alpha v+\beta v$.
\end{enumerate}

\begin{definition}[Norms and Seminorms]
A mapping $p: X \rightarrow \Real$ is called a \textbf{seminorm} on a vector space $V$ if it has the following properties:
	\begin{itemize}
		\item $p(\lambda{v})\leq \abs{\alpha}p(v)$ $\forall v \in V$ and $\forall \alpha \in \Real$, (absolutely scalable).
		\item $p(u+v)\leq p(u)+p(v)$, $\forall u,v\in V$, (subadditive).
	\end{itemize}
These conditions imply that $p(x)\geq 0$ for all $x\in X$. If $p$ has the strong condition $p(x)>0$ for $X\backslash \braces{0}$ then $p$ is called a \textbf{norm}. If $p$ is a norm we usually use the symbol $\norm{\cdot}$, to denote $\norm{x}=p(x)$.  
\end{definition}

%\begin{definition}[Norm on a Linear Space]
%	A norm on a linear space $V$ is a function $\norm{\cdot}:V\rightarrow \Real$ following the properties:
%	\begin{enumerate}
%		\item $\norm{v}\geq 0$, for all $v\in V$.
%		\item $\norm{\alpha v}=\abs{\alpha}\norm{v}$, for all $v\in V$ and $\alpha \in \Real$.
%		\item $\norm{v+w}\leq \norm{v}+\norm{w}$, for all $v, w\in V$.
%		\item $\norm{v}=0 \iff v=0$. 
%	\end{enumerate}
%\end{definition}

A linear space is a metric space with a distance $d(v,w)=\norm{v-w}$. A linear subspace is a subset of a linear space that is also a linear space. A complete vector space is called a \textbf{Banach space}.


\begin{theorem}(Tonelli's Method)
	Let $X$ be a normed space and let $f:V\rightarrow \Realex$ be not identically to $\infty$. The Tonelli's method
	\begin{enumerate}
		\item Consider a minimizing sequence $\braces{x_n}_{n\in \Naturals}\subset X$, that is a sequence such that
		\begin{equation*}
		\lim_{n\rightarrow\infty}f(v_n)=\inf_{v\in V}f(v)
		\end{equation*}
		\item Prove that the sequence $\parentheses{v_n}_{n\in \Naturals}$ admits a subsequence $\braces{v_{n_k}}_{n_k\in \Naturals}$ that converges with respect to some topology $\mathcal T$ to some point $v_0\in V$.
		\item Establish sequential lower semicontinuity of $f$ with respect $\mathcal T$.
		\item In the view of previous steps, conclude $v_0$ is a minimum of $f$ given that,
		\begin{equation}
			\inf_{v\in V}f(v)=\lim_{n\rightarrow\infty }f(v_n)=\lim_{n_k\rightarrow \infty}f(v_{n_k})\geq f(v_0)\geq \inf_{v\in V}f(v)
		\end{equation}
	\end{enumerate}
\end{theorem}
%\begin{theorem}
%	Let $X$ be a locally compact Hausdorff; give $C_0(X)$ the uniform topology. A subset $B\subset C_0(X)$ has a compact closure if and only if it is pointwise bounded, equicontinuous and vanishes uniformly at infinity. 
%\end{theorem}
A map from a vector space $X$ onto a vector space $Y$ is said to be linear if $T(\alpha x+\beta y)=\alpha T(x)+\beta T(y)$ for all $x,y\in X$ and all $\alpha, \beta \in \Real$. A linear operator $T$, from $X$ onto $Y$ is continuous if and only if is bounded, i.e. $T(M)$ is bounded for every bounded subset of $M\subset X$. The set $\mathcal{L}(X,Y)$ of linear bounded operators defined on a linear space $(X, \norm{\cdot}_X)$ onto the linear space $(Y, \norm{\cdot}_Y)$ becomes a linear normed space, with the norm defined by
\begin{equation*}
	\norm{T}:=\sup\braces{\norm{T(x)}_Y; \norm{x}_X\leq 1}=\inf\braces{K:\ \norm{T(x)_Y\leq K\norm{x}_X},\ \forall x \in X}.
\end{equation*}
If $Y$ is Banach then $L(X, Y)$ is also Banach. We call the dual of a Banach space $X$ the space $X^*=L(X,\Real)$ that is also Banach. 

\subsubsection{Duality.}
Two linear spaces $X$ and $Y$, define a \textbf{dual system} if a fixed bilinear functional on their product is given $\anglesbox{\cdot, \cdot}_{X,Y}: X\times Y \rightarrow \Realex$. The dual system is called \textbf{separated} if for every $x\in X\backslash\braces{0}$ there is $y\in Y$ such that $\anglesbox{x,y}_{X,Y}\neq 0$ and for every $y\in Y\backslash\braces{0}$ there is $x\in X$ such that $(x,y)\neq 0$.

For each $x$ we can define the application $T_x:Y\rightarrow \Realex$ by $T_x(y)=\anglesbox{x,y}_{X,Y}$, for all $y\in Y$, we see that $T_x$ is a linear functional on $Y$ and the mapping $x\mapsto T_x$, is linear and injective. Thus the elements of $X$ can be identified with the linear functionals on $Y$. In a similar way, the elements of $Y$ can be considered as linear functionals of $X$, identifying an element $y\in Y$ with $T_y(x)=\anglesbox{x,y}_{X,Y}$.
 
Therefore, each dual system of linear spaces defines a mapping from either of the two linear spaces into the space of linear functionals on the other.

We define the topology $\sigma(X,Y)$ over $X$ in duality with $Y$ (or $Y$-topology of $X$), as the smallest topology which makes the linear functionals $T_y$ continuous. The roles of $X$ and $Y$ are interchangeable here. 

A sequence $(x_n)_{n\in \Naturals}$ in $X$ is $\sigma(X, Y)$-convergent to $x_0\in X$ if and only if the sequence of real values $\parentheses{\anglesbox{x_n, y}_{X,Y}}_{n\in \Naturals}$ converges to $\anglesbox{x_0, y}_{X,Y}\in\Real$, for each $y\in Y$. The roles of $X$ and $Y$ are interchangeable here, we have equivalent convention for $\sigma(Y,X)$-convergence.

%Setting,
%\begin{align*}
%	f_y(x)=\abs{\anglesbox{x,y}}=\abs{T_y(x)}, \quad \forall x \in X\\
%	g_x(y)=\abs{\anglesbox{x,y}}=\abs{T_x(y)}, \quad \forall y \in Y
%\end{align*}
%we observe that $F=\braces{f_y: y\in Y}$ is a family of seminorms on $X$ and $G=\braces{g_x: x\in X}$ is a family of seminorms on $Y$. 


We can construct a bilinear form $\anglesbox{\cdot, \cdot}:X\times X^*\rightarrow \Real$ defined by $\anglesbox{x,x^*}=x^*(x)$, for $x^*\in X^*$ and $x \in X$. The weak topology is the smallest topology for which all the bounded linear functionals are continuous, that is $\sigma(X, X^*)$. We call this topology the weak topology of $X$.  

In general, $X$ is not possible to identify a linear operator of $X^*$ with an element from $X$, then $X$ and $X^*$ do not always play a symmetric role in the bilinear form. When we can represent each element of $X^{**}$ with an element of $X$ we call the space $X$ reflexive.\\

Although, it is not possible to inject $X^{**}$ onto $X$, it is possible to inject $X$ onto $X^{**}$, since the map $x^*\mapsto x^*(x)$ defined over the dual $X^*$ is linear for all $x\in X$. Then we create a topology  $\sigma(X^*, X)$ of $X^*$ in  duality with $X$, we call this topology weak-star topology of $X^*$.

A bounded linear operator of normed space $X$ is continuous if and only if it is \textbf{weakly continuous}, that is continuous on the weak topology.\\
\begin{theorem}[Banach-Alaoglu]
Let $X$ be an arbitrary normed space, and let $X^*$ be its dual. A closed unit ball $B\subset X^*$ is weak-star compact.
\end{theorem}

\begin{corollary}
The closed unit ball of the dual of a normed space is weak-star closed.
\end{corollary}
If a sequence $\parentheses{x_n}_{n\in\Naturals}\subset X^*$ is weak convergent to $x_0*\in X^*$, then
$\norm{x^*_0}\leq \liminf_{n\to\infty}\norm{x^*_n}$, if a sequence $\parentheses{x^*_n}_{n\in\Naturals}\subset X^*$ is weak-star convergent to $x_0*\in X^*$, then
$\norm{x^*_0}\leq \liminf_{n\to\infty}\norm{x^*_n}$.
\begin{theorem}[Banach-Alaoglu weak-star sequentially compactness]
Let $X$ be a separable normed vector space, and let $X^*$ be its dual. Then the weak-star topology on a closed ball $B\subset X^*$ is metrizable. 
\end{theorem}
\begin{corollary} Let $X$ be a separable normed vector space and let $X^*$ be its topological dual space. Then every bounded sequence $(\phi_n)_{n\in \Naturals}\in X$ has a weak-star convergent subsequence.
\end{corollary}

\subsection{Convex Analysis.}
We introduce some notions in convexity since this concept plays an important role in optimization. Convex sets and functions have nice properties that can be exploit in the development of theorems in optimization. 
 
A subset $E$ of a vector space $V$ is convex if for all $v_1$, $v_2$ in $E$ and all $\alpha \in (0,1)$ we have that $\alpha v_1+(1-\alpha)v_2=v\in E$.
In other words, $E$ contains all line segments between points in $E$. We denote by $[v_1, v_2]$, a line segment with extreme points $v_1, v_2$.\\
A subset of the linear space $X$ is said to be \textbf{affine} set if whenever it contains $x_1$ and $x_2$ it also contains $\alpha x_1+\beta x_2$ for arbitrary $\alpha, \beta \in \Real$ satisfying $\alpha+\beta=1$.

The intersection of many arbitrary convex (affine) sets is again convex (affine) set. A function $f: V \rightarrow \Realex$ is convex if and only if $\epi(f)$ is a convex set.\\

A \textbf{hyperplane} is a subset $H\subset X$ of a linear space $X$, identified by a pair $(f, k)$ such that $f$ is a real valued linear functional defined on $X$ and $k\in \Real$, such that
\begin{equation}
	H=\braces{x\in X: f(x)=k}
\end{equation}

Let $\alpha\in [0,1]$, a function $f:V\rightarrow \Realex$ defined on a vector space $V$ is said to be \textbf{convex} if $f(\alpha v_1+(1-\alpha)v_2)\leq \alpha f(v_1)+(1-\alpha)f(v_2)$. We call it \textbf{strictly convex} if the inequality holds strictly. We call the function \textbf{proper} if it is convex and does not take the value $-\infty$ and it is not equally to $\infty$. We call a function $f$ \textbf{concave} if $-f$ is convex. \\

Note that taking $v_1\neq v_2$ and $v_2=0$, if $f$ is convex for all $v_1$ then $f(\alpha v_1)\leq \alpha f(v_1)$ for all $v_1\in V$; the inequality inverts if $f$ is concave. Every norm is a convex function. If $f$ is concave we have that $f(\alpha v_1+(1-\alpha)v_2)\geq \alpha f(v_1)+(1-\alpha)f(v_2)$, for all $t\in [0,1]$.

Given any nonempty subset $A$ of $X$, the function $\one_A$ on $X$, defined by

\begin{equation*}
	\one_A(x)=\begin{cases}
	0 & \text{if } x \in A\\
	\infty & \text{if } x \neq A
	\end{cases}
\end{equation*}
is called the indicator function of $A$. The subset $A$ of X is convex if and only if its indicator function $\one_A$ is convex.

A particular class of topological linear spaces with richer properties is the class of \textbf{locally convex spaces}; these are topological linear spaces with the property that for every element there exists a base of neighborhoods consisting of convex sets. A locally convex space is Hausdorff if and only if it has a separated family of seminorms. 


A convex set is closed if and only if it is weakly closed. The closed unit ball of a normed space is weakly closed.

%If $E$ is a subset of the vector space $V$, then the function $f:E\rightarrow \Realex$ is said to be convex if the extension.
%\begin{equation*}
%	\bar f(v)=\begin{cases}
%	f(v) &  \text{if } v\in E\\
%	\infty & \text{if }v \notin E
%	\end{cases}
%\end{equation*} 
%is a convex function in $V$.

\begin{theorem}[Hahn-Banach theorem]
	Let $X$ be a real linear space, let $p$ be a real convex function on $X$ and let $Y$ be a linear subspace of $X$. If a linear functional $T_0$ defined on $Y$ satisfies,
	\begin{equation*}
		T_0(y)=p(y),\quad \forall y \in Y
	\end{equation*}
	then $T_0$ can be extended to a linear functional $T$ defined on all of $X$, satisfying
	\begin{equation*}
		T(x)\leq p(x),\quad \forall x \in X
	\end{equation*}
\end{theorem}

\begin{theorem}[Geometric version of Hahn-Banach theorem]
If $A$ is a convex set with a nonempty interior and if $M$ is an affine set
which contains no interior point of $A$, then there exists a closed hyperplane which contains $M$ and which again contains no interior point of $A$.
\end{theorem}


For a hyperplane $H\subset X$ characterized by a pair $(f,k)$ composed of a linear functional $f$ and a real value $k$, we have two open half spaces, $\braces{x\in X: f(x)<k}$, $\braces{x\in X: f(x)>k}$.
The implications of the above Hanh-Banach theorems, is that a convex set which contains no point of a hyperplane is contained in one of the two open half spaces determined by that hyperplane. Indeed, if $f(x_1)>k$ and $f(x_2)<k$, it exists $\alpha\in[0,1]$ such that $f(\alpha x_1+(1-\alpha)x_2)=k$, hence $x_1$ and $x_2$ cannot be contained in a convex set which is disjoint from the hyperplane $f(x)=k$.


A  lower-semicontinuous, proper and convex function $f$ on a reflexive Banach space $X$ takes a minimum value on every bounded, convex and closed subset $M$ of $X$. In other words, $\exists x_0 \in M$ such that
\begin{equation}
f(x_0)=\inf\braces{f(x):\ x\in M}
\end{equation}



In relation with concavity we have the modulus of continuity of a continuous function. For example, the following are examples of characterization of functions.
\begin{definition}
	Let $X$ be a metric space with a distance $d_X$ and let $Z \subset X$. A function $f: X\rightarrow \Real$ onto a metric space $Y$ with a distance $d_Y$ is said to be,
	\begin{itemize}
		\item \textbf{Lipschitz continuous} if
		\begin{equation*}
		\mathrm{Lip}(f; Z):=\sup\braces{\frac{d_Y(f(x), f(y))}{d_X(x,y)}: \ x,y \in Z, x\neq y} < \infty
		\end{equation*}
		\item \textbf{locally Lipschitz continuous} if for every compact $K\subset Z$,
		\begin{equation*}
		\sup\braces{\frac{d_Y(f(x), f(y))}{d_X(x,y)}: \ v,w \in K, v\neq w}<\infty
		\end{equation*}
		\item  \textbf{H\"older continuous} with exponent\footnote{Note that we have introduced a norm notation.} $0<\alpha<1$ if,
		\begin{equation*}
			\norm{f}_{C^{0,\alpha}(E)}:=\sup\braces{\frac{d_Y(f(x),f(y))}{d_X(x,y)}: \ x, y \in E, x\neq y}<\infty.
		\end{equation*}
	\end{itemize}
\end{definition}
Given a subset $Z$ of a metric space $X$ and a function $f: Z\rightarrow \Real$ the \textbf{modulus of continuity} $\omega:\Real_+\rightarrow \Real_+$ defined by $\omega(\delta;f)=\sup\braces{\abs{f(x)-f(y)}: x,y \in Z, d(x,y)<\delta}$. Note that $f$ is uniformly continuous if and only if $\omega(\delta; f)\rightarrow 0$ as $\delta\downarrow 0$, that is continuous at zero. The modulus of continuity of uniformly continuous function is subadditive. The \textbf{concave modulus of continuity} $\overline{\omega}:\Realex_+\rightarrow \Realex_+$ is defined as the smallest concave function above $\omega$. If $K=X$ and $f$ is uniformly continuous, then it is always possible to replace $\omega$ with $\overline{\omega}$.
\begin{theorem}
	Let $E$ be a subset of a metric space $X$. Any uniformly continuous bounded function $f:E\rightarrow\Real$ can be extended to a function $g:X\rightarrow \Real$ with the same modulus of continuity, supremum and infimum.
\end{theorem}

A subset $A\subset X\times X^*$ is called monotone if $\anglesbox{x_1-x_2, y_1-y_2}\geq 0$, for any segment $[x_i, y_i]\in A$.
\begin{definition}[Convex Conjugate]
	Let $f$ a function defined on a linear space $X$, $f:X\to\Realex$. The function $f:X^*\to\Realex$ defined by,
	\begin{equation}
		f^*(x^*)=\sup\braces{\anglesbox{x,x^*}-f(x);\ x\in X}, \quad x^*\in X^*,
	\end{equation} is called the conjugate function of $f$. 
\end{definition}

Any convex, proper and lower-semicontinuous function is bounded from below by an affine function. A lower-semicontinuous convex function is proper if and only its conjugate is proper. Let $f: X\to\Real\cup\braces{+\infty}$ be any function nonidentically to $+\infty$. Then $f^{**}=f$ if and only if $f$ is convex and lower semicontinuous on $X$. A proper function $f$ is convex and lower-semicontinuous on $X$ if and only if it is the supremum of a family of affine continuous functions.

\begin{definition}[Subdifferential]
	Let $X$ be a real Banach space and let be $X^*$ be its dual with a norm $\norm{\cdot}$. Given the proper convex function $f:X\rightarrow \Real\cup\braces{\infty}$, the \textbf{subdifferential} of $f$  is the multivalued mapping $\partial f:X\to2^{X^*}$
	\begin{equation*}
		\partial f(x)=\braces{x^*\in X^*;\quad f(x)-f(u)\leq \anglesbox{x-u, x^*},\ \forall u \in X.}		
	\end{equation*}
\end{definition}

\begin{theorem}
	Let $f:X\to\Real\cup\braces{\infty}$ be a proper convex function. Then, then, $x^*\in\partial f(x)\iff f(x)+f^*(x^*)\leq\anglesbox{x, x^*}\iff f(x)+f^*(x^*)=\anglesbox{x, x^*}$
\end{theorem}
A proper convex function $f$ on a Banach Space $X$, the minimum points of $f$ are just the solutions to the equation  $0\in\partial f(x)$.

%\begin{theorem}[Rockafellar]
%Let X be a real Banach space and let f be a lower-semicontinuous proper convex function on X. Then, $\partial(f)$ is maximal monotone operator from $X$ to $X^*$.
%\end{theorem}



\section{Convergence of Probability measures.}

Let $X$ a topological space. 
A probability measure on 
A measure such that the outer measure coincides with the inner measure.
Let X and Y be separable metrizable spaces, and let $f: X \to Y$ be Borel measurable. Then the graph of $f$ is a Borel subset of $X\times Y$
\begin{definition}[Support of a measure.]
	Given a separable metric space $X$, the support of a measure $\mu$ is defined as the smallest closed set on which $\mu$ is concentrated, that is
	\begin{equation}
	\spt(\mu)\ :=\underset{\small{\begin{array}{c}
			\mu(X\backslash A)=0\\ A=\closu A  \end{array}}}{\bigcap A} 		
	\end{equation} 
\end{definition}
\begin{definition}[Image Measure]
	Let $\parentheses{X, \mathcal{A}_X}$  and $\parentheses{Y, \mathcal{A}_Y}$ be two measurable spaces. Let $T:X\rightarrow Y$ be a measurable map from $X$ to $Y$. Let $\mu$ be a measure $\mu: \mathcal{A}_X\rightarrow \Realex_+$, then the image measure (or pushforward measure) $\Tmeasure{\mu}{T}:\mathcal{A}_2\rightarrow \Realex_+$ is given by,
	\begin{equation*}
	\Tmeasure{\mu}{T}(B) = \mu\parentheses{T^{-1}(B)}, \quad \forall B \in \mathcal{A}_Y.
	\end{equation*}
\end{definition}

The following results can be found in \cite{Milan2000TpicsWeakconvProbs}.
Let $\MeasureSp^+(X)$ be the set of all nonnegative, finite, finitely additive and regular measures of $\mathcal{A}_X$. The set of generalized measures is denoted by $\MeasureSp(X)$. The set of generalized measures on $X$ is a linear space; a norm can be introduced by the so called total variation of the whole space $X$:
\begin{equation}
	\norm{m}=\abs{m}(X)=m^+(X)+m^-(X)
\end{equation}
where, 
\begin{align*}
	m^+(X):=\sup\braces{m(B):\ B \in \mathcal{A}} \\
	m^-(X):=-\inf\braces{m(B):\ B \in \mathcal{A}}
\end{align*}

\begin{theorem}[Aleksandrov]
	For an arbitrary topological space $X$ any linear continuous functional on $C(X)$ is of the form,
	\begin{equation}
		\phi(f)=\anglesbox{f,m}=\int_{X}f(x)\diff m(x)
	\end{equation}
	Moreover,
	\begin{equation}
		\abs{m}=\sup_{\norm{f}_X\leq 1}\abs{\int_{X}f(x)\diff m(x)}
	\end{equation}
	There is an isometrical, isomorphical and one to one mapping between the space of all continuous linear functionals on $C(X)$ and the space of $\MeasureSp(X)$; We write $C(X)=\MeasureSp(X)$
\end{theorem}

\begin{theorem}[Luizin]
	Let $X$ be a locally compact Hausdorff space, let $\mathcal A$ be a $\sigma-$algebra on $X$ containing the Borel $\sigma-$algebra of $X$. Let $\mu$ a regular measure on $(X, \mathcal A)$ and let $f:X\rightarrow \Real$ be $\mathcal A$-measurable. If $A$ belongs to $\mathcal{A}$ and satisfies $\mu(A)<\infty$ and given a positive number $\epsilon>0$, then there is a compact $K\subset X$ such that $\mu(X\backslash K)<\epsilon$ and the restriction $\domainrestr{K}{f}$ is continuous in $K$. Moreover, there is a function $g\in C_c(K)$ such that $g(x)=f(x)$ for each $x\in K$. 
\end{theorem}

It follows that the supremum of a collection of continuous (or lower semicontinuous) functions is lower semicontinuous and that each lower semicontinuous function on a Hausdorff space is Borel measurable. 


The space of probabilities $\PlanSp(X)$ is not closed in $\MeasureSp(X)$. 



The structure of the second dual $C(X)^{**}$ can be really complex, although it is known that $\MeasureSp_b(X)$ the set of all bounded Borel-measurable functions is a subset of $C(X)^{**}$.

A set $\Pi$ of probability measures is relatively compact if any sequence of probability measures $\mu_n \in \Pi$ contains a subsequence $(\mu_{n_k})_{n_k\in \Naturals}$ which converges weak-star to a probability measure in $\PlanSp(X)$.

We say that a probability measure $\mu$ on $X$ is \textbf{tight} if for any $\mu\in \PlanSp(X)$ and any positive real number $\epsilon>0$ there is a compact $K\subset X$ such that $\mu(X\backslash K)\leq \epsilon$. We also say that a set of probabilities $\Gamma$ is tight if $\forall \mu \in \Gamma$, $\mu$ is tight.
\begin{theorem}
	Let $X$ be a separable metric space. Then the weak-star
	topology on $\MeasureSp_+(X)$ is metrizable.
\end{theorem}
\begin{theorem}
	If $X$ is a complete and separable topological space, then $\PlanSp(X)$ is tight.
\end{theorem}
If $X$ is compact any set of probability measures is pre-compact.
\begin{theorem}[Prokhorov and Polish spaces]
	Let $X$ be a Polish space. Then there is a complete metric $d_0$ over $\PlanSp(X)$ equivalently to the weak topology. Moreover, let $K\subset \PlanSp(X)$ be a subset in $\PlanSp(X)$. Then $K$ is tight if and only if $\closu K$ in the weak topology of $\PlanSp(X)$ is pre-compact.
\end{theorem}
\begin{corollary}[Prokhorov in metric]
	Let $X$ a metric space and let $(\mu_n)_{n\in\Naturals}$ be a sequence of Borel measures, such that $\sup_n(\mu_n)<\infty$. Then there exists a subsequence  $\parentheses{\mu_{n_k}\in \Naturals}$ of $(\mu_n)_{n\in\Naturals}$, such that converges weak-star in the dual $C_b(X)^*$ of the bounded functionals of $X$. 
\end{corollary}
\subsection{Results for Image Measure.}
We state some definitions to prove density of transport plans induced by maps in the set of transport maps (Lemma \ref{lem: Density of maps.}). The proof of the following theorems and lemmas as well as Lemma \ref{lem: Density of maps.} are detailed in \cite{Santambrogio2015OT}.

\begin{lemma}
If $\mu$, $\nu$ are two probability measures on the real line $\Real$ and $\mu$ is atomless, then there exists at least a map $T$ such that $\Tmeasure{\mu}{T}=\nu$.
\end{lemma}
	
\begin{lemma}
There exists a Borel map $\sigma_d: \Real^d\rightarrow \Real$ which is injective, its image is a Borel subset of $\Real$, and its inverse map is Borel measurable as well.
\end{lemma}
		
\begin{theorem}
	If $\mu$ and $\nu$ are two probability measures on $\Real^d$ and $\mu$ is atomless, then there exists at least a map $T$ such that $\Tmeasure{\mu}{T}=\nu$.
\end{theorem}
			
\begin{theorem}
	Consider a compact metric space $X$, endowed with a probability measure $\rho \in \PlanSp(X)$, a sequence of partitions $G_n$ such that each $G_n=(C_\alpha)_{\alpha \in \mathcal{J}_n}$ is a family of disjoint subsets satisfying $\bigcup_{i\in \mathcal{J}_n}C_{i,n}=X$ for every $n$. Suppose that $size(G_n):=\max_i \parentheses{\diam\parentheses{C_{i,n}}}$ tends to $0$ as $n\rightarrow \infty$ and consider a sequence of probability measures $\rho_n$ on $X$ such that, for every $n$ and $i\in I_p$, we have $\rho_n(C_{i,n})$. Then $\rho_n\weakconvergence\rho$.
\end{theorem}